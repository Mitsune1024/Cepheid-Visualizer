<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cepheid Visualizer â€” Audio Reactive Visualizer</title>
  <!-- cache-bust CSS -->
  <link rel="stylesheet" href="style.css?v=3" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <h1 class="title">Cepheid Visualizer</h1>
      <nav class="nav">
        <a class="nav-link" href="index.html">Project</a>
        <a class="nav-link" href="about.html">About</a>
      </nav>
    </div>
  </header>

  <main class="container main">
    <section class="hero">
      <div class="hero-left">
        <h2 class="subtitle">Audio reactive visuals in Processing</h2>
        <p class="lead">
          This repository contains a Processing sketch that produces multiple audio-reactive visual modes.
          Mode 0 is a shader-driven sphere with bloom and audio tinting. Modes 1 through 8 are lightweight
          CPU/GPU visuals driven by the processing.sound FFT and amplitude envelope. The visuals were designed
          to be efficient and to run on lower-power hardware after further optimisation.
        </p>

        <div class="controls">
          <!-- Auto-detect button -->
          <a class="btn primary" id="download-auto" href="#" onclick="return false;">Download for your OS</a>

          <!-- Manual direct links to release assets -->
          <a class="btn primary" id="download-win" href="https://github.com/Mitsune1024/Cepheid-Visualizer/releases/download/v0.2.0910Win/Cephied-windows-amd64.rar" target="_blank" rel="noopener">Download for Windows</a>
          <a class="btn outline" id="download-linux" href="https://github.com/Mitsune1024/Cepheid-Visualizer/releases/download/v0.2.0910Linux/Cepheid-linux-amd64.rar" target="_blank" rel="noopener">Download for Linux</a>

          <!-- GitHub repo -->
          <a class="btn outline" id="view-github" href="https://github.com/Mitsune1024/Cepheid-Visualizer" target="_blank" rel="noopener">View on GitHub</a>
        </div>

        <div class="info-grid">
          <div>
            <h4>Quick start</h4>
            <ol>
              <li>Download the appropriate package for your OS (Windows or Linux) or clone the repository.</li>
              <li>Extract the archive and run the executable for your platform. For RAR archives use an extractor that supports RAR.</li>
              <li>On Linux: after extracting, ensure the executable has permissions, for example <code>chmod +x CepheidVisualizer</code>, then run <code>./CepheidVisualizer</code>.</li>
              <li>If you prefer to run or edit the source, open the sketch folder in Processing and run there. The sketch uses the processing.sound library.</li>
            </ol>
          </div>
          <div>
            <h4>Files included</h4>
            <ul>
              <li>GenerationsCombined.pde (Processing sketch, main)</li>
              <li>data/mode0.frag (mode 0 fragment shader)</li>
              <li>data/glowFrag.glsl (blur / glow shader)</li>
              <li>data/* (other optional shaders you may include)</li>
            </ul>
            <p class="small">Note: the older MiniSphere.pde file was removed and its visuals were consolidated into the main sketch.</p>
          </div>
        </div>

        <div class="notes">
          <strong>Notes</strong>
          <p>
            Release asset URLs are linked above. If you upload new release artifacts, update the links in this page or in the script below.
          </p>
        </div>
      </div>

      <aside class="hero-right">
        <div class="card preview">
          <!-- Replace demo.gif with your file in assets/ or change to ss.png if you didn't upload the GIF -->
          <img src="assets/ss.png" alt="Project screenshot" class="preview-img" />
          <div class="caption">Animated demo or screenshot. Replace this file with your own GIF or PNG in assets/</div>
        </div>

        <div class="card meta">
          <h4>Controls</h4>
          <ul>
            <li>0..8 : switch visual mode (0 is sphere, 1 is cubes, 2 helix, 3 rosette, 4 star, 5 rings, 6 grid stars, 7 ship arms, 8 flower)</li>
            <li>+ / - : adjust persistence decay (smaller value gives longer trails)</li>
            <li>Arrow keys : rotate camera and dolly (left/right rotate, up/down change distance)</li>
            <li>f : toggle FFT processing on or off</li>
            <li>h : show help in the console</li>
          </ul>
        </div>
      </aside>
    </section>

    <section class="tech">
      <h3>Technical details</h3>
      <p>
        The sketch uses Processing with the processing.sound library and a few GLSL fragment shaders.
        Most visuals are implemented with simple CPU geometry combined with an accumulation framebuffer
        to produce glow and trail persistence. The FFT array is mapped to parameter ranges per mode
        to obtain musical responsiveness.
      </p>

      <h4>Dependencies</h4>
      <ul>
        <li>Processing 3.5 or later (for running the source)</li>
        <li>processing.sound library</li>
      </ul>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>Made by Mitsune The Maid. Code released under MIT license. Hosted on GitHub Pages.</p>
    </div>
  </footer>

  <script>
    // Direct asset URLs (from your releases)
    const WIN_URL = "https://github.com/Mitsune1024/Cepheid-Visualizer/releases/download/v0.1.1308Win/Cepheid_windows-amd64.rar";
    const LINUX_URL = "https://github.com/Mitsune1024/Cepheid-Visualizer/releases/download/v0.1.1308Linux/Cepheid_linux-amd64.rar";

    // Simple OS detection
    function detectOS() {
      const p = navigator.platform || navigator.userAgent || navigator.appVersion;
      const pstr = p.toLowerCase();
      if (pstr.indexOf('win') !== -1) return 'windows';
      if (pstr.indexOf('linux') !== -1) return 'linux';
      if (pstr.indexOf('mac') !== -1 || pstr.indexOf('darwin') !== -1 || pstr.indexOf('iphone') !== -1 || pstr.indexOf('ipad') !== -1) return 'mac';
      return 'unknown';
    }

    function setAutoDownloadLink() {
      const os = detectOS();
      const autoBtn = document.getElementById('download-auto');
      if (!autoBtn) return;

      if (os === 'windows') {
        autoBtn.href = WIN_URL;
        autoBtn.onclick = null;
        autoBtn.setAttribute('target','_blank');
      } else if (os === 'linux') {
        autoBtn.href = LINUX_URL;
        autoBtn.onclick = null;
        autoBtn.setAttribute('target','_blank');
      } else {
        autoBtn.href = "https://github.com/Mitsune1024/Cepheid-Visualizer";
        autoBtn.onclick = null;
        autoBtn.setAttribute('target','_blank');
      }
    }

    // Run on load
    document.addEventListener('DOMContentLoaded', setAutoDownloadLink);
  </script>
</body>
</html>
